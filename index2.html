<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ShyMC - Minecraft Server</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
</head>
<body>
  <div id="particles-js"></div>

  <audio autoplay loop hidden id="bg-music">
    <source src="shymc2-theme.mp3" type="audio/mpeg">
    Tw√≥j browser nie wspiera audio.
  </audio>

  <div class="container">
    <h1 class="neon-title">ShyMC</h1>
    <p class="subtitle">Mega Aktywny survival w Minecraftcie üåå</p>
    
    <div class="ip-box" onclick="copyIP()">
      <span class="ip-label">IP Serwera:</span>
      <span class="ip-address">s32.pixelhost.pl:27046</span>
    </div>

    <div class="status-box">
      <p>Status: <span id="status">≈Åadowanie...</span></p>
      <p>Graczy online: <span id="players">-</span></p>
    </div>

    <div class="buttons">
      <a href="discord.gg/c2xwsJ7Wgx" class="btn neon">Discord</a>
      <a href="https://pixelhost.pl/itemshop/2646" class="btn neon">Sklep</a>
    </div>

    <footer>¬© 2025 ShyMC. All rights reserved.</footer>
  </div>

  <script>
    function copyIP() {
      const ip = "s32.pixelhost.pl:27046";
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(ip).then(() => alert("Skopiowano IP: " + ip));
      } else {
        const input = document.createElement("input");
        input.value = ip;
        document.body.appendChild(input);
        input.select();
        document.execCommand("copy");
        document.body.removeChild(input);
        alert("Skopiowano IP: " + ip);
      }
    }

    // Minecraft server status via mcsrvstat.us API
    fetch("https://api.mcsrvstat.us/2/s32.pixelhost.pl:27046")
      .then(res => res.json())
      .then(data => {
        document.getElementById("status").textContent = data.online ? "üü¢ Online" : "üî¥ Offline";
        document.getElementById("players").textContent = data.players?.online ?? "-";
      })
      .catch(() => {
        document.getElementById("status").textContent = "‚ùì Brak danych";
        document.getElementById("players").textContent = "-";
      });

    // Particles.js init
    particlesJS.load('particles-js', 'particles.json', function() {
      console.log("Particles loaded.");
    });
  </script>
</body>
</html>
